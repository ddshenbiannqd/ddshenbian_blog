define(["jquery","../index-plugin.min"],function(b){var c=b("jquery");b("../index-plugin.min")(c);var a={_ajaxGetPop:function(d){a.ajax("get",true,"/cms/getLinkImage?categoryId=firstScreen",{},null,d,null,null);
},_ajaxPic:function(d){a.ajax("get",true,"/cms/getLinkImage?categoryId=pc_indexBanner",{},null,d,null,null);},_ajaxAds:function(d){a.ajax("get",true,"/cms/getLinkImage?categoryId=sofang_indexAds",{},null,d,null,null);
},_ajaxFloat:function(d){a.ajax("get",true,"/cms/getLinkImage?categoryId=pcFloat",{},null,d,null,null);},_ajaxFLink:function(d){a.ajax("get",true,"/cms/getLinkImage?categoryId=friendLink",{},null,d,null,null);
},_jsonAC:function(d){var e="/cms/arcitleListData?categoryId=3&Random="+Math.random();a.getJson(e,{},d);},_jsonMR:function(d){var e="/cms/arcitleListData?categoryId=4&Random="+Math.random();
a.getJson(e,{},d);},_ajaxFPAndInv:function(d){a.ajax("post",false,"/invest/homelist1",{},null,d,null,null);},_ajaxOut:function(d){a.post("/login/logout",{},d);
},_ajaxUInfo:function(d){a.ajax("post",false,"/login/login_info",{},null,d,null,null);},_ajaxStatistics:function(d){a.ajax("post",false,"/invest/platformstatistics",{},null,d,null,null);
},ajax:function(h,g,f,k,e,i,d,j){c.ajax({type:h,async:g,url:basePath+f,dataType:"json",data:k,beforeSend:e,success:i,complete:d,error:j});},getJson:function(e,f,d){c.getJSON(basePath+e,f,d,"json");
},post:function(e,f,d){c.post(basePath+e,f,d,"json");},setFinancialPlans:function(u){var m=u.flex_borrows[0];var e=u.optimise1_borrows[0];var p=u.optimise2_borrows[0];
var l=u.optimise3_borrows[0];if(u.hotel_borrow||u.yacht_borrow||u.mj_borrow){var t=u.hotel_borrow;var n=u.yacht_borrow;var s=u.mj_borrow;a.setHotelDome(t,n,s);
}if(m&&(""!=m)&&("undifinde"!=m)){var v="活期宝";var k=m.apr*100;var q=m.addRate*100;var d=a.getInvesFlagStr(m,"0");var r=m.isNew;var o=m.nextTime;var f=false;
if(m.status==2){f=true;}var j=a.setFinancialDome(v,k,d,m.id,f,o,"/invest/flex_borrow",r,q);c("#huoqibao").addClass("sa_top");c("#huoqibao").append(j);}if(e&&(""!=e)&&("undifinde"!=e)){var v=e.periods+"个月定期宝";
var k=e.apr*100;var q=e.addRate*100;var d=a.getInvesFlagStr(e,"0");var r=e.isNew;var o=e.nextTime;var f=false;if(e.status==2){f=true;}var i=a.setFinancialDome(v,k,d,e.id,f,o,"/invest/optimise_borrow",r,q);
c("#3yue").addClass("sa_top");c("#3yue").append(i);}if(p&&(""!=p)&&("undifinde"!=p)){var v=p.periods+"个月定期宝";var k=p.apr*100;var q=p.addRate*100;var d=a.getInvesFlagStr(p,"0");
var r=p.isNew;var o=p.nextTime;var f=false;if(p.status==2){f=true;}var h=a.setFinancialDome(v,k,d,p.id,f,o,"/invest/optimise_borrow",r,q);c("#6yue").addClass("sa_top");
c("#6yue").append(h);}if(l&&(""!=l)&&("undifinde"!=l)){var v=l.periods+"个月定期宝";var k=l.apr*100;var q=l.addRate*100;var d=a.getInvesFlagStr(l,"0");var r=l.isNew;
var o=l.nextTime;var f=false;if(l.status==2){f=true;}var g=a.setFinancialDome(v,k,d,l.id,f,o,"/invest/optimise_borrow",r,q);c("#12yue").addClass("sa_top");
c("#12yue").append(g);}},getPop:function(){a._ajaxGetPop(function(d){if(d.code==1&&d.obj.length>0){if(d.obj[0]&&d.obj[0].imageAlt){var e=d.obj[0].imageAlt;
if(getCookies("imageAlt")!=null&&getCookies("imageAlt")==decodeURIComponent(e)){c("#mask,.modelPop").fadeOut();}else{c("#mask").fadeIn();c(".modelPop").animate({top:"15%",opacity:"1"},1000);
c(".imgPop").attr({href:d.obj[0].targetHref}).find("img").attr({src:decodeURIComponent(d.obj[0].imageSrc),alt:e});setCookie("imageAlt",decodeURIComponent(e),24);
}}}});},getAds:function(){a._ajaxAds(function(d){if(d.code==1&&d.obj.length>0){if(d.obj[0]&&d.obj[0].targetHref){c(".soufang .add1 a").attr("href",d.obj[0].targetHref).find("img").attr("src",decodeURIComponent(d.obj[0].imageSrc));
}else{c(".soufang .add1 a").attr("href","javascript:;").find("img").attr("src",decodeURIComponent(d.obj[0].imageSrc));}if(d.obj[1]&&d.obj[1].targetHref){c(".soufang .add2 a").attr("href",d.obj[1].targetHref).find("img").attr("src",decodeURIComponent(d.obj[1].imageSrc));
}else{c(".soufang .add2 a").attr("href","javascript:;").find("img").attr("src",decodeURIComponent(d.obj[1].imageSrc));}if(d.obj[2]&&d.obj[2].targetHref){c(".soufang .add3 a").attr("href",d.obj[2].targetHref).find("img").attr("src",decodeURIComponent(d.obj[2].imageSrc));
}else{c(".soufang .add3 a").attr("href","javascript:;").find("img").attr("src",decodeURIComponent(d.obj[2].imageSrc));}if(d.obj[3]&&d.obj[3].targetHref){c(".soufang .add4 a").attr("href",d.obj[3].targetHref).find("img").attr("src",decodeURIComponent(d.obj[3].imageSrc));
}else{c(".soufang .add4 a").attr("href","javascript:;").find("img").attr("src",decodeURIComponent(d.obj[3].imageSrc));}if(d.obj[4]&&d.obj[4].targetHref){c(".soufang .add5 a").attr("href",d.obj[4].targetHref).find("img").attr("src",decodeURIComponent(d.obj[4].imageSrc));
}else{c(".soufang .add5 a").attr("href","javascript:;").find("img").attr("src",decodeURIComponent(d.obj[4].imageSrc));}}});},getBanner:function(){a._ajaxPic(function(e){if(e.code==1&&e.obj.length>0){var f="";
for(var d=0;d<e.obj.length;d++){f+=('<li><a href="'+e.obj[d].targetHref+'"><div class="index-banner" style="background-color:'+e.obj[d].backgroundColor+" ;background-image: url("+decodeURIComponent(e.obj[d].imageSrc)+') ;"></div></a></li>');
}}c("#slider").html(f);c("#slider").responsiveSlides({auto:true,nav:true,pause:true,speed:300,pager:true});});},getFloat:function(){a._ajaxFloat(function(f){if(f.code==1&&f.obj.length>0){var e="";
for(var d=0;d<f.obj.length;d++){e+='<div class="floatDiv float'+d+'" style="background:url('+f.obj[d].imageSrc+') no-repeat;"><div class="alert-close"></div><a href="'+f.obj[d].targetHref+'"></a></div>';
}c(".floatDivContainer").append(e);}});},getFLink:function(){a._ajaxFLink(function(e){if(e.code==1&&e.obj.length>0){var f="";for(var d=0;d<e.obj.length;
d++){f+='<a href="'+e.obj[d].targetHref+'" target="_blank">'+e.obj[d].imageAlt+"</a>";}c(".yq").append(f);}});},setInvestmentList:function(g){var n=g.list_borrows;
var j=n.length;var d=["还款方式","等额本息","按月付息到期还本","本息一次","等额平息"];if(j>5){j=5;}var e="";for(var h=0;h<j;h++){var f=n[h];e+='<li id="tl00'+h+'" class="hvr-sweep-to-top">';
if(f.isNew==1){e=e+'<div class="i_01 new"></div>';}else{e=e+'<div class="i_01"></div>';}var p=f.img?f.img:"";e+='<div class="i_02"><img src="'+p+'" style="width:36px;height:30px;margin:0 15px 0 -52px;"><a href="'+basePath+"/invest/prodetail_index?id="+f.id+'">'+f.no+"</a></div>";
var k=Number(f.apr*100).toFixed(2);e+='<div class="i_03">'+k+"%</div>";var o="";if(f.isDayLoan==1){o="天";}else{o="个月";}e+='<div class="i_04" style="width: 120px;">'+f.periods+o+"</div>";
e+='<div class="i_05" style="width: 170px;">'+d[f.repayType]+"</div>";var l=a.toThousands(f.amount);e+='<div class="i_06">'+l+"元</div>";e+='<div class="i_07"><div class="index-progress" style="height: 46px;line-height: 45px;">'+f.process+"%</div></div>";
var m=a.getInvesFlagStr(f,"1");if(f.status==2){e+='<div class="i_08"><a href="'+basePath+"/invest/prodetail_index?id="+f.id+'">'+m+"</a></div>";}else{e+='<div class="i_08"><a  class="disableFla" href="'+basePath+"/invest/prodetail_index?id="+f.id+'">'+m+"</a></div>";
}}c("#investmentList").append(e);a.loadImg(n[0].process,c("#tl000 .index-progress"));a.loadImg(n[1].process,c("#tl001 .index-progress"));a.loadImg(n[2].process,c("#tl002 .index-progress"));
a.loadImg(n[3].process,c("#tl003 .index-progress"));a.loadImg(n[4].process,c("#tl004 .index-progress"));},getInvesFlagStr:function(h,k){var f=h.status;
var j=h.allowPart;var i=h.amount;var m=h.hasInvestAmount;var l="";var e=h.nextTime,g=h.currentTime;if(g&&g!=null&&typeof(g)!="undefined"){g=new Date(Date.parse(g.replace(/-/g,"/"))).getTime();
}if(f==2){if(k=="0"){l="立即投资";target[target.length]=h.remainTime+Date.parse(new Date());time_id[time_id.length]=h.id+"1";}else{l="投资";}}else{if(f==3){if(e&&e!=null&&typeof(e)!="undefined"){var d=e-g;
l="距下场 "+a.timeSpanParse(d);btn_id[btn_id.length]="btn"+h.id+"1";btn_time[btn_time.length]=d;}else{l="已抢光";if(j==1){if(i!=m){l="融资成功";}}}}else{if(f==4){if(e&&e!=null&&typeof(e)!="undefined"){var d=e-g;
l="距下场 "+a.timeSpanParse(d);btn_id[btn_id.length]="btn"+h.id+"1";btn_time[btn_time.length]=d;}else{l="还款中";}}else{if(f==5){if(e&&e!=null&&typeof(e)!="undefined"){var d=e-g;
l="距下场 "+a.timeSpanParse(d,"HH:mm:ss");btn_id[btn_id.length]="btn"+h.id+"1";btn_time[btn_time.length]=d;}else{l="已结清";}}}}}return l;},setHotelDome:function(i,k,d){var m=i.id;
var h=k.id;var l=d.id;var g="";if(i.addRate==0){g=(i.apr*100).toFixed(1)+"%";}else{g=((i.apr-i.addRate)*100).toFixed(1)+"%<span>+"+(i.addRate*100).toFixed(1)+"%</span>";
}var o="";if(k.addRate==0){o=(k.apr*100).toFixed(1)+"%";}else{o=((k.apr-k.addRate)*100).toFixed(1)+"%<span>+"+(k.addRate*100).toFixed(1)+"%</span>";}var e="";
if(d.addRate==0){e=(d.apr*100).toFixed(1)+"%";}else{e=((d.apr-d.addRate)*100).toFixed(1)+"%<span>+"+(d.addRate*100).toFixed(1)+"%</span>";}function n(r){var p,q;
if(r.status==2){p="立即投资";q="hsactive";}else{if(r.status==3){p="已抢光";if(r.allowPart==1){if(r.amount!=r.hasInvestAmount){p="融资成功";}}q="hsdisabled";}else{if(r.status==4){p="还款中";
q="hsdisabled";}else{if(r.status==5){p="已结清";q="hsdisabled";}}}}return{buttonStr:p,classStr:q};}var f,j;if(i.isDayLoan==1){f="<span>"+i.periods+"天</span><br />融资期限";
}else{f="<span>"+i.periods+"个月</span><br />融资期限";}if(k.isDayLoan==1){j="<span>"+k.periods+"天</span><br />融资期限";}else{j="<span>"+k.periods+"个月</span><br />融资期限";
}if(d.isDayLoan==1){miaojiePoraid="<span>"+d.periods+"天</span><br />融资期限";}else{miaojiePoraid="<span>"+d.periods+"个月</span><br />融资期限";}c(".hotelcontainer .hs-invest-btn").attr("href",basePath+"/invest/lvyou_borrow?id="+m);
c(".shipcontainer .hs-invest-btn").attr("href",basePath+"/invest/youting_borrow?id="+h);c(".hotel-index").find(".hs-c-priod").html(f);c(".ship-index").find(".hs-c-priod").html(j);
c(".miaojie-index").find(".hs-c-priod").html(miaojiePoraid);c(".hotel-index").find(".hs-c-prefit span").html(g);c(".hotel-index").find(".hs-invest").attr("href",basePath+"/invest/lvyou_borrow?id="+m);
c(".hotel-index").find(".hs-invest").html(n(i).buttonStr);c(".hotel-index").find(".hs-invest").addClass(n(i).classStr);c(".ship-index").find(".hs-invest").attr("href",basePath+"/invest/youting_borrow?id="+h);
c(".ship-index").find(".hs-invest").html(n(k).buttonStr);c(".ship-index").find(".hs-invest").addClass(n(k).classStr);c(".ship-index").find(".hs-c-prefit span").html(o);
c(".miaojie-index").find(".hs-invest").attr("href",basePath+"/invest/prodetail_index?id="+l);c(".miaojie-index").find(".hs-invest").html(n(d).buttonStr);
c(".miaojie-index").find(".hs-invest").addClass(n(d).classStr);c(".miaojie-index").find(".hs-c-prefit span").html(e);c(".cj-jiudian").parent().parent().attr("href",basePath+"/invest/lvyou_borrow?id="+m);
c(".cj-youting").parent().parent().attr("href",basePath+"/invest/youting_borrow?id="+h);c(".cj-miaojie").parent().parent().attr("href",basePath+"/invest/second_borrow");
},setFinancialDome:function(d,k,p,e,o,g,q,l,m){var f=e+"1",j="";var i='<p class="title">'+d+"</p>";if(l==1){i+='<em class="new-icon"></em>';}if(!(m==undefined||m<=0)){var h=Number(m).toFixed(1);
i+='<span class="perc" style="position: absolute;top: 63px;left: 162px;font-size: 18px;">+'+h+"%</span>";var n=Number(k-m).toFixed(1);}else{var n=Number(k).toFixed(1);
}i+='<span class="num">'+n+'</span><span class="perc">%</span>';i+='<p class="rev">预期年化收益</p>';if(g&&g!=null&&typeof(g)!="undefined"){j="btn"+f;}if(o||(g&&g!=null&&typeof(g)!="undefined")){i+='<a class="ableFla" id="'+j+'" href="'+basePath+q+"?id="+e+'">'+p+"</a>";
}else{i+='<a  class="disableFla" id="'+j+'" href="'+basePath+q+"?id="+e+'">'+p+"</a>";}if(o){i+='<p class="time">';i+='剩余时间：<span id="'+f+'"></span>';i+="</p>";
}else{i+='<p class="notime"> </p>';}return i;},loadImg:function(g,e){var f=0;var d=setInterval(function(){f++;if(f>g){f=g;clearInterval(d);}if(f%5==0){var h=-((parseInt(f/5))*51)+"px";
if(f==100){h=-1071+"px";}e.css("background-position",h+" 0px");}e.html(f+"%");},10);},toThousands:function(e){var e=(e||0).toString(),f=/\d{3}$/,d="";while(f.test(e)){d=RegExp.lastMatch+d;
if(e!==RegExp.lastMatch){d=","+d;e=RegExp.leftContext;}else{e="";break;}}if(e){d=e+d;}return d;},banner:function(){},animate:function(){var e=c("ul.announcements");
var d=3000;var f;e.hover(function(){clearInterval(f);},function(){f=setInterval(function(){var g=e.find("li:first");var h=g.height();g.animate({marginTop:-h+"px"},600,function(){g.css("marginTop",0).appendTo(e);
});},d);}).trigger("mouseleave");if(navigator.userAgent.indexOf("MSIE 8.0")<=0){c(".callbacks1_s2").click(function(){c(this).addClass("callbacks_here");
});}c("#financial .plans").hover(function(){c(this).find(".time").show();},function(){c(this).find(".time").hide();});c("li.dropdown").mouseover(function(){c(this).addClass("open");
}).mouseout(function(){c(this).removeClass("open");});c("#userInfoBox").mouseover(function(){c("#homelogin").addClass("open");}).mouseout(function(){c("#homelogin").removeClass("open");
});c("#goInvest,#goAboutus,#_userName").click(function(){window.location.href=c(this).attr("href");});},timeSpanParse:function(h,k){var l=Math.floor(h/(24*3600*1000));
var g=h%(24*3600*1000);var i=Math.floor(g/(3600*1000));var f=g%(3600*1000);var d=Math.floor(f/(60*1000));var e=f%(60*1000);var j=Math.round(e/1000);if(i<10){i="0"+i;
}if(d<10){d="0"+d;}if(j<10){j="0"+j;}if("undefined"==typeof k||k==""||k==null){return a.timeSpanParse(h,"dd天HH小时mm分ss秒");}else{return k.replace(/dd/g,l).replace(/HH/g,i).replace(/mm/g,d).replace(/ss/g,j);
}},showDateTime:function(h,g,f,l){setTimeout(function(){a.showDateTime(h,g,f,l);},1000);for(var e=0,d=h.length;e<d;e++){var k=h[e];if(k<=0){f(e);}else{l(e);
k-=1000;h[e]=k;}}},numStatistics:function(){var d=function(i,k,e,f,j){var g={useEasing:true,useGrouping:true,separator:",",decimal:".",prefix:"",suffix:""};
var h=new CountUp(i,k,e,f,j,g);h.start();};a._ajaxStatistics(function(h){if(h.code==1){var g=h.obj.userCount,f=Math.round(h.obj.totalInterest),e=Math.round(h.obj.totalAmount);
d("data1",g-1000,g,0,2);d("data2",f-1000,f,0,2);d("data3",e-1000,e,0,2);}else{return;}});}};return a;});